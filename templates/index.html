<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ğŸµ JSON â†’ Rhythm Text å¤‰æ›ãƒ„ãƒ¼ãƒ«</title>
  <style>
    body { font-family: sans-serif; margin: 40px; background: #f8f8fa; color: #333; }
    h1 { color: #4a6; }
    textarea { width: 100%; height: 300px; font-family: monospace; }
    .box { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 0 6px #ccc; }
    button { background: #4a6; color: white; border: none; padding: 10px 16px; border-radius: 8px; cursor: pointer; }
    button:hover { background: #3a5; }
    .error { color: red; margin-top: 10px; }
  </style>
</head>
<body>
  <div class="box">
    <h1>ğŸµ JSON â†’ Rhythm Text å¤‰æ›ãƒ„ãƒ¼ãƒ«</h1>
    <form method="POST" enctype="multipart/form-data">
      <p><input type="file" name="file" accept=".json"></p>
      <button type="submit">å¤‰æ›</button>
    </form>

    {% if error %}
      <p class="error">{{ error }}</p>
    {% endif %}

    {% if result %}
      <h3>å¤‰æ›çµæœ (ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ãˆã¾ã™)</h3>
      <textarea readonly>{{ result }}</textarea>
      <p><button onclick="copyText()">ğŸ“‹ ã‚³ãƒ”ãƒ¼</button></p>
    {% endif %}
  </div>

  <script>
    function copyText() {
      const textArea = document.querySelector('textarea');
      textArea.select();
      document.execCommand('copy');
      alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");
    }
  </script>
</body>
</html>
